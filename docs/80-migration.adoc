
== Migration from v0.5.0 or earlier to 0.6.0

The optimizer block got a big update in 0.5.0, as a result it is not backward compatible.

.Old config, prior to 0.6.0:

[yaml]
----
optim:
  args:
    betas:
    - 0.9
    - 0.98
    eps: 1.0e-09
    label_smoothing: 0.1
    lr: 0.1
    warmup_steps: 4000
    amsgrad: false
    weight_decay: 0
    criterion: smooth_kld
    inv_sqrt: false
    constant: 2
  name: ADAM
----
.New config
[yaml]
----
optimizer:
  name: adam
  args:
    betas:
    - 0.9
    - 0.98
    eps: 1.0e-09
    lr: 0.1

schedule:
  name: noam
  args:
    constant: 2
    warmup: 4000
    model_dim: 512

criterion:
  name: smooth_kld
  args:
    label_smoothing: 0.1
----


=== Learning rate schedule

. `noam` with args:
  * warmup
  * constant
  * model_dim

. `inverse_sqrt` with args:
  * warmup
  * peark_lr

=== Criterion
. `cross_entropy`
   * label smoothing not implemented yet, FIXME: support label smoothing
. `smooth_kld`
    * `label_smoothing`
. Other (experimental): `binary_cross_entropy`, `triplet_loss`