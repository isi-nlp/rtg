environment:
  data: tests/data/comet

model_args:
  src_vocab: 2751
  n_classes: 2
  enc_layers: 3
  hid_size: 128
  ff_size: 256
  n_heads: 2
  attn_dropout: 0.1
  dropout: 0.2
  activation: relu
model_type: rtg-comet-cls

optimizer:
  name: adam
  args:
    betas:
    - 0.9
    - 0.98
    eps: 1.0e-09
    lr: 0.1

schedule:
  name: noam
  args:
    constant: 2
    warmup: 2000
    model_dim: 128

criterion:
  name: sparse_cross_entropy

prep:
  max_types: 4000
  pieces: bpe
  codec_lib: nlcodec
  shared_vocab: false
  src_len: 100
  tgt_len: 100
  # STDIN: seq1 \t seq2 \t label
  #train_src: stdin:text:1,stdin:text:2
  #train_tgt: stdin:text:3
  train_src: $data/train.texts
  train_tgt: $data/train.label
  truncate: true
  valid_src: $data/test.texts
  valid_tgt: $data/test.label
  mono_src: $data/train.texts
  mono_tgt: $data/train.label

tester:
  suite:
    test:
    - $data/test.texts
    - $data/test.label
  ensemble: 2
  batch_size: 6000
  max_len: 256

trainer:
  batch_size:
  - 4000
  - 4
  check_point: 25
  keep_models: 10
  steps: 50
  sort_by: random

updated_at: '2023-05-23T23:24:07.524214'
rtg_version:
  previous: 0.7.3-dev
  last_worked: 1.0.0-dev0
